<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>可配置的表单 | PENGUIN-SHED-94</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="#root {         margin:15px;         padding:10px;         width:500px;         height:500px;         border:1px solid grey;         transform:translateX(0px);&quot;     }     #root ul {         mar">
<meta property="og:type" content="website">
<meta property="og:title" content="可配置的表单">
<meta property="og:url" content="https://lancas-e.github.io/blog/dynamic-form/index.html">
<meta property="og:site_name" content="PENGUIN-SHED-94">
<meta property="og:description" content="#root {         margin:15px;         padding:10px;         width:500px;         height:500px;         border:1px solid grey;         transform:translateX(0px);&quot;     }     #root ul {         mar">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-04-02T10:32:27.000Z">
<meta property="article:modified_time" content="2020-05-07T07:33:24.071Z">
<meta property="article:author" content="Zhang Youhan">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/blog/img/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <span href="/blog/" id="logo">PENGUIN-SHED-94</span>
      </h1>
      
      <h2 id="subtitle-wrap">
        <span id="subtitle">keepknowledgeastreasure</span>
      </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
        <a class="main-nav-link" href="/blog/">Home</a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="page-" class="article article-type-page" itemscope
  itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      可配置的表单
    </h1>
  

    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <link href="../dynamic-form/static/css/2.5824c4a0.chunk.css" rel="stylesheet">
<link href="../dynamic-form/static/css/main.d29bb9e6.chunk.css" rel="stylesheet">
<style>
    #root {
        margin:15px;
        padding:10px;
        width:500px;
        height:500px;
        border:1px solid grey;
        transform:translateX(0px);"
    }
    #root ul {
        margin: 0
    }
    #root .dynamic-form .next-menu {
        height: 200px
    }
</style>

<p>表单是常见的场景，很多前端库都实现了强大的表单组件，但是我们还是发现面对大量表单会出现大量重复性工作。因此我们尝试用一种可配置的方式来实现表单(基于@alifd/next组件库)。<br>除了表单全局的一些设置，表单元素的核心有两点：layout和data。</p>
<ul>
<li>layout控制每个元素的位置，我们可以通过拖拽的方式可视化的配置表单；</li>
<li>data包含每个元素的各类属性，除了沿用FormItem组件的props，对于表单元素的事件联动也在此处理；</li>
</ul>
<p>下面的demo是data的一个实现(不考虑layout部分)，Input与Select元素可用；<br>性别下拉中mock生成一些数字，选中1时，会清空姓名栏，可以在元素添加事件中设置。</p>
<div id="root"></div>

 <script>!function (e) { function r(r) { for (var n, f, i = r[0], l = r[1], a = r[2], p = 0, s = []; p < i.length; p++)f = i[p], Object.prototype.hasOwnProperty.call(o, f) && o[f] && s.push(o[f][0]), o[f] = 0; for (n in l) Object.prototype.hasOwnProperty.call(l, n) && (e[n] = l[n]); for (c && c(r); s.length;)s.shift()(); return u.push.apply(u, a || []), t() } function t() { for (var e, r = 0; r < u.length; r++) { for (var t = u[r], n = !0, i = 1; i < t.length; i++) { var l = t[i]; 0 !== o[l] && (n = !1) } n && (u.splice(r--, 1), e = f(f.s = t[0])) } return e } var n = {}, o = { 1: 0 }, u = []; function f(r) { if (n[r]) return n[r].exports; var t = n[r] = { i: r, l: !1, exports: {} }; return e[r].call(t.exports, t, t.exports, f), t.l = !0, t.exports } f.m = e, f.c = n, f.d = function (e, r, t) { f.o(e, r) || Object.defineProperty(e, r, { enumerable: !0, get: t }) }, f.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, f.t = function (e, r) { if (1 & r && (e = f(e)), 8 & r) return e; if (4 & r && "object" == typeof e && e && e.__esModule) return e; var t = Object.create(null); if (f.r(t), Object.defineProperty(t, "default", { enumerable: !0, value: e }), 2 & r && "string" != typeof e) for (var n in e) f.d(t, n, function (r) { return e[r] }.bind(null, n)); return t }, f.n = function (e) { var r = e && e.__esModule ? function () { return e.default } : function () { return e }; return f.d(r, "a", r), r }, f.o = function (e, r) { return Object.prototype.hasOwnProperty.call(e, r) }, f.p = "/"; var i = this.webpackJsonpzdynamicform = this.webpackJsonpzdynamicform || [], l = i.push.bind(i); i.push = r, i = i.slice(); for (var a = 0; a < i.length; a++)r(i[a]); var c = l; t() }([])</script>
<script src="../dynamic-form/static/js/2.0ddd061c.chunk.js"></script>
<script src="../dynamic-form/static/js/main.f4933713.chunk.js"></script>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://lancas-e.github.io/blog/dynamic-form/index.html" data-id="ckahnokxp000374pcd7141x4k" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
  
  
</article>

</section>
        
          <aside id="sidebar" >
  
  
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/CSS/">CSS</a></li></ul>
    </div>
  </div>


  
  
<div class="widget-wrap">
  <h3 class="widget-title">标签</h3>
  <div class="widget">
    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/box-model/" rel="tag">box-model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/layout/" rel="tag">layout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/overview/" rel="tag">overview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/react/" rel="tag">react</a></li></ul>
  </div>
</div>

  
  <div class="widget-wrap">
  <h3 class="widget-title">demo</h3>
  <div class="widget">
    <div><a class="tag-list-link" href="/blog/dynamic-form/">dynamic-form</a></div>
    <div><a class="tag-list-link" href="/blog/css-demo/">css-demo</a></div>
  </div>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Zhang Youhan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
</nav>
    

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.slim.min.js"></script>



<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">


<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>



  </div>
<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var i=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){i&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,e,a=0;a<r.length;a++)t=r[a],0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>