<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>React组件生命周期 | PENGUIN-SHED-94</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="React v16.3之前的生命周期函数如下：  React v16.3引入了两个新的生命周期函数：  getDerivedStateFromProps getSnapshotBeforeUpdate">
<meta property="og:type" content="article">
<meta property="og:title" content="React组件生命周期">
<meta property="og:url" content="https://lancas-e.github.io/blog/react-lifecycle/index.html">
<meta property="og:site_name" content="PENGUIN-SHED-94">
<meta property="og:description" content="React v16.3之前的生命周期函数如下：  React v16.3引入了两个新的生命周期函数：  getDerivedStateFromProps getSnapshotBeforeUpdate">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lancas-e.github.io/blog/img/loading.png">
<meta property="og:image" content="https://lancas-e.github.io/blog/img/loading.png">
<meta property="article:published_time" content="2019-04-08T07:16:39.000Z">
<meta property="article:modified_time" content="2020-05-07T07:33:24.065Z">
<meta property="article:author" content="Zhang Youhan">
<meta property="article:tag" content="react">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lancas-e.github.io/blog/img/loading.png">
  
  
    <link rel="icon" href="/blog/img/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <span href="/blog/" id="logo">PENGUIN-SHED-94</span>
      </h1>
      
      <h2 id="subtitle-wrap">
        <span id="subtitle">keepknowledgeastreasure</span>
      </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
        <a class="main-nav-link" href="/blog/">Home</a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-react-lifecycle" class="article article-type-post" itemscope
  itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      React组件生命周期
    </h1>
  

    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      <p>React v16.3之前的生命周期函数如下：</p>
<img src="/blog/img/loading.png" data-original="/blog/react-lifecycle/react-lifecycle-before-16.png" class="" title="lifecyccle1">
<p>React v16.3引入了两个新的生命周期函数：</p>
<ul>
<li>getDerivedStateFromProps</li>
<li>getSnapshotBeforeUpdate<img src="/blog/img/loading.png" data-original="/blog/react-lifecycle/react-lifecycle-after-16.3.png" class="" title="lifecyccle1">
<a id="more"></a>
(在React v16.4中，getDerivedStateFromProps可以被setState和forceUpdate所触发)</li>
</ul>
<p>render之前的生命周期在React采用<a href="https://zhuanlan.zhihu.com/p/26027085" target="_blank" rel="noopener">Fiber架构</a>之后，调用次数变得不可控，在React v16.3中被加以UNSAFE_前缀。并且很多时候我们对组件的控制并不需要达到如此细的颗粒度。相反由于给了太多选择，开发者也有了更多实现方式和更多犯错可能。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lancas-e.github.io/blog/react-lifecycle/" data-id="ckahnaqx20007akpc7oeh1bpk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/react/" rel="tag">react</a></li></ul>

    </footer>
  </div>
  
  
<nav id="article-nav">
  
    <a href="/blog/http2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          http2.0
        
      </div>
    </a>
  
  
    <a href="/blog/layout/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CSS布局</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar" >
  
  
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/CSS/">CSS</a></li></ul>
    </div>
  </div>


  
  
<div class="widget-wrap">
  <h3 class="widget-title">标签</h3>
  <div class="widget">
    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/box-model/" rel="tag">box-model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/layout/" rel="tag">layout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/overview/" rel="tag">overview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/react/" rel="tag">react</a></li></ul>
  </div>
</div>

  
  <div class="widget-wrap">
  <h3 class="widget-title">demo</h3>
  <div class="widget">
    <div><a class="tag-list-link" href="/blog/dynamic-form/">dynamic-form</a></div>
    <div><a class="tag-list-link" href="/blog/css-demo/">css-demo</a></div>
  </div>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Zhang Youhan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
</nav>
    

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.slim.min.js"></script>



<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">


<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>



  </div>
<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var i=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){i&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,e,a=0;a<r.length;a++)t=r[a],0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>